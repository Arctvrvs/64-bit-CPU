# ibp512_4w Module

`ibp512_4w.sv` provides a small indirect branch predictor. It stores up to 512
entries indexed by a hash of the branch PC and the last observed target. Each
entry records the predicted target address.

The accompanying Python model ``IBPPredictor`` can record allocation events
through ``record_ibp_event`` when given a ``CoverageModel`` instance.

## I/O Ports

| Name | Dir | Width | Description |
|------|-----|-------|-------------|
| `clk` | in | 1 | Clock |
| `rst_n` | in | 1 | Active-low reset |
| `pc_i` | in | 64 | PC of indirect branch |
| `last_target_i` | in | 64 | Last executed target for hashing |
| `pred_target_o` | out | 64 | Predicted target address |
| `update_valid_i` | in | 1 | Write an update |
| `update_pc_i` | in | 64 | Branch PC to update |
| `update_target_i` | in | 64 | Actual target address |

## Behavior

When predicting, the module hashes the PC and `last_target_i` to select an entry
in its table. If the tags match, the stored target is returned. Updates overwrite
the selected entry with the new PC and target.
